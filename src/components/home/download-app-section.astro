---
import { Image } from 'astro:assets';
import qrCustomer from '@/assets/images/download-app/qr-customer.webp';
import qrAgent from '@/assets/images/download-app/qr-agent.webp';
import appStore from '@/assets/images/download-app/appstore.png';
import googlePlay from '@/assets/images/download-app/googleplay.png';
import phoneBack from '@/assets/images/download-app/phone-back.webp';
import phoneFront from '@/assets/images/download-app/phone-front.webp';
import bgCustomer from '@/assets/images/download-app/NEN_DTH_2.webp';
import bgAgent from '@/assets/images/download-app/NEN_DTH_1.webp';

// Download app section - Customer app (orange) + Agent app (blue)
const customerApp = {
  title: "Tìm thuê, mua bán đến đầu tư",
  description: "Tất cả bất động sản bạn cần đều có tại",
  qrCode: qrCustomer,
  phoneImage: phoneBack,
  appStoreUrl:
    "https://apps.apple.com/vn/app/tongkhobds-com-t%E1%BB%95ng-kho-bds/id6747106665",
  playStoreUrl:
    "https://play.google.com/store/apps/details?id=app.bds.com.android",
};

const agentApp = {
  title: "Dành cho môi giới → Trở thành đối tác",
  description: "Đăng tin không giới hạn, nhận quyền lợi độc quyền từ",
  qrCode: qrAgent,
  phoneImage: phoneFront,
  appStoreUrl:
    "https://apps.apple.com/vn/app/tongkhobds-com-agent/id6747106732",
  playStoreUrl:
    "https://play.google.com/store/apps/details?id=app.bds.agent.android",
};
---

<section class="py-10 pb-0 lg:pb-10">
  <div class="container-custom">
    <div class="download-box relative rounded-2xl overflow-visible">
      <div class="grid grid-cols-1 lg:grid-cols-2">
        <!-- Customer App (Orange) - Left -->
        <div
          class="bg-[#f1913d] rounded-2xl lg:rounded-l-2xl lg:rounded-r-none p-8 lg:pr-70 min-h-100 flex flex-col justify-between relative"
        >
          <div class="absolute bottom-0 left-0 z-0 w-75 h-100 opacity-65">
            <Image
              src={bgCustomer}
              alt=""
              class="w-full h-full object-cover"
            />
          </div>
          <div class="relative z-10">
            <h2 class="text-xl font-bold text-white italic mb-3">
              {customerApp.title}
            </h2>
            <p class="text-white text-base leading-relaxed">
              {customerApp.description}
              <a href="/" class="text-white font-semibold hover:underline"
                >TongkhoBDS.com</a
              >
            </p>
          </div>
          <div class="flex items-end gap-4 mt-20 sm:mt-28 lg:mt-36 relative z-10">
            <div class="bg-white p-2 rounded-lg">
              <Image src={customerApp.qrCode} alt="Mã QR tải ứng dụng khách hàng TongkhoBDS" class="w-20 h-20" />
            </div>
            <div class="flex flex-col gap-3">
              <a
                href={customerApp.appStoreUrl}
                target="_blank"
                rel="noopener"
                class="block bg-white rounded-lg overflow-hidden hover:opacity-90 transition-opacity"
              >
                <Image
                  src={appStore}
                  alt="Tải từ App Store"
                  class="h-11 w-auto"
                />
              </a>
              <a
                href={customerApp.playStoreUrl}
                target="_blank"
                rel="noopener"
                class="block bg-white rounded-lg overflow-hidden hover:opacity-90 transition-opacity"
              >
                <Image
                  src={googlePlay}
                  alt="Tải từ Google Play"
                  class="h-11 w-auto"
                />
              </a>
            </div>
          </div>
        </div>

        <!-- Agent App (Blue) - Right -->
        <div
          class="bg-[#04509a] rounded-2xl lg:rounded-r-2xl lg:rounded-l-none p-8 lg:pl-55 min-h-85 flex flex-col justify-between relative"
        >
          <div class="absolute top-0 right-0 z-0 w-87.5 h-85">
            <Image
              src={bgAgent}
              alt=""
              class="w-full h-full object-cover"
            />
          </div>
          <div class="lg:text-right relative z-10">
            <h2 class="text-xl font-bold text-white italic mb-3">
              {agentApp.title}
            </h2>
            <p class="text-white text-base leading-relaxed">
              {agentApp.description}
              <a href="/" class="text-white font-semibold hover:underline"
                >TongkhoBDS.com</a
              >
            </p>
          </div>
          <div class="flex items-end gap-4 mt-20 sm:mt-28 lg:mt-36 lg:justify-end relative z-10">
            <div class="flex flex-col gap-3 order-2 lg:order-1">
              <a
                href={agentApp.appStoreUrl}
                target="_blank"
                rel="noopener"
                class="block bg-white rounded-lg overflow-hidden hover:opacity-90 transition-opacity"
              >
                <Image
                  src={appStore}
                  alt="Tải từ App Store"
                  class="h-11 w-auto"
                />
              </a>
              <a
                href={agentApp.playStoreUrl}
                target="_blank"
                rel="noopener"
                class="block bg-white rounded-lg overflow-hidden hover:opacity-90 transition-opacity"
              >
                <Image
                  src={googlePlay}
                  alt="Tải từ Google Play"
                  class="h-11 w-auto"
                />
              </a>
            </div>
            <div class="bg-white p-2 rounded-lg order-1 lg:order-2">
              <Image src={agentApp.qrCode} alt="Mã QR tải ứng dụng môi giới TongkhoBDS" class="w-20 h-20" />
            </div>
          </div>
        </div>
      </div>

      <!-- Center phones overlay -->
      <div
        class="absolute left-1/2 bottom-0 -translate-x-1/2 z-10 hidden lg:flex items-end justify-center pointer-events-none"
      >
        <Image
          src={customerApp.phoneImage}
          alt="Ứng dụng TongkhoBDS dành cho khách hàng"
          class="w-48 object-contain -mr-16 relative z-10 translate-y-7"
        />
        <Image
          src={agentApp.phoneImage}
          alt="Ứng dụng TongkhoBDS dành cho môi giới"
          class="w-48 object-contain relative z-20 -translate-y-7"
        />
      </div>
    </div>
  </div>
</section>
