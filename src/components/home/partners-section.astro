---
import { Image } from 'astro:assets';
import { partners } from '@/data/partners';

// Duplicate partners for seamless infinite scroll
const duplicatedPartners = [...partners, ...partners, ...partners];
---

<section class="section relative">
  <div class="container-custom relative z-10">
    <div class="text-center mb-8">
      <h2 class="section-title text-white">Đối tác chiến lược</h2>
      <p class="text-secondary-300 mt-2">Hợp tác cùng các chủ đầu tư hàng đầu Việt Nam</p>
    </div>

    <!-- Infinite scroll container - responsive gap -->
    <div class="partners-slider overflow-hidden relative">
      <div class="partners-track flex items-center gap-4 sm:gap-8">
        {duplicatedPartners.map((partner, index) => (
          <a
            href={`/chu-dau-tu/${partner.slug}`}
            class="partner-item flex-shrink-0 flex items-center justify-center bg-white rounded-xl p-3 sm:p-4 shadow-xs hover:shadow-md transition-shadow"
            aria-label={`Xem thông tin ${partner.name}`}
          >
            <Image
              src={partner.image}
              alt={`Logo ${partner.name}`}
              width={178}
              height={99}
              quality={95}
              class="h-12 sm:h-16 w-auto object-contain"
              loading={index < 6 ? 'eager' : 'lazy'}
            />
          </a>
        ))}
      </div>
    </div>
  </div>
</section>
