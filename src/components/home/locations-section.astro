---
import { mockLocations } from '@/data/mock-properties';
import { formatNumber } from '@/utils/format';
---

<section class="section bg-white relative overflow-hidden">
  <!-- Subtle background decoration -->
  <div class="absolute top-0 left-0 w-96 h-96 bg-primary-100/30 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"></div>
  <div class="absolute bottom-0 right-0 w-96 h-96 bg-amber-100/30 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"></div>

  <div class="container-custom relative">
    <!-- Section Header -->
    <div class="text-center mb-8">
      <h2 class="section-title mb-3">Khám phá bất động sản theo địa điểm</h2>
      <div class="w-20 h-1 bg-gradient-to-r from-primary-500 to-primary-300 rounded-full mx-auto mb-3"></div>
      <p class="text-secondary-500 max-w-xl mx-auto text-sm">
        Tìm kiếm bất động sản theo khu vực bạn quan tâm
      </p>
    </div>

    <!-- Location Grid - Custom layout -->
    <div class="location-grid">
      {mockLocations.slice(0, 6).map((location, index) => (
        <a
          href={`/dia-diem/${location.slug}`}
          class:list={[
            'location-card group relative rounded-2xl overflow-hidden',
            'shadow-md hover:shadow-xl transition-all duration-500 hover:-translate-y-1',
            `location-${index + 1}`
          ]}
        >
          <img
            src={location.image}
            alt={location.name}
            class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-out"
            loading="lazy"
          />

          <!-- Gradient overlay -->
          <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"></div>

          <!-- Content -->
          <div class="absolute bottom-0 left-0 right-0 p-4">
            <h3 class="font-bold text-white text-base lg:text-lg mb-0.5 group-hover:text-primary-200 transition-colors">
              {location.name}
            </h3>
            <p class="flex items-center gap-1.5 text-white/80 text-xs">
              <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
              </svg>
              <span>{formatNumber(location.propertyCount)} tin</span>
            </p>
          </div>
        </a>
      ))}
    </div>
  </div>
</section>

<style>
  .location-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(2, 140px);
    gap: 1rem;
  }

  /* Large cards - span 2 rows */
  .location-1 {
    grid-column: 1;
    grid-row: 1 / 3;
  }
  .location-2 {
    grid-column: 2;
    grid-row: 1 / 3;
  }

  /* Small cards */
  .location-3 {
    grid-column: 3;
    grid-row: 1;
  }
  .location-4 {
    grid-column: 4;
    grid-row: 1;
  }
  .location-5 {
    grid-column: 3;
    grid-row: 2;
  }
  .location-6 {
    grid-column: 4;
    grid-row: 2;
  }

  /* Tablet */
  @media (max-width: 1024px) {
    .location-grid {
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(2, 120px);
    }
    .location-1 { grid-column: 1; grid-row: 1 / 3; }
    .location-2 { grid-column: 2; grid-row: 1 / 3; }
    .location-3 { grid-column: 3; grid-row: 1; }
    .location-4 { grid-column: 3; grid-row: 2; }
    .location-5, .location-6 { display: none; }
  }

  /* Mobile */
  @media (max-width: 640px) {
    .location-grid {
      grid-template-columns: repeat(2, 1fr);
      grid-template-rows: repeat(2, 100px);
    }
    .location-1 { grid-column: 1; grid-row: 1 / 3; }
    .location-2 { grid-column: 2; grid-row: 1; }
    .location-3 { grid-column: 2; grid-row: 2; }
    .location-4, .location-5, .location-6 { display: none; }
  }
</style>
