---
/**
 * Checkbox - Reusable checkbox component with primary color styling
 *
 * @example
 * <Checkbox name="agree" value="yes" label="I agree" />
 * <Checkbox name="terms" checked />
 *
 * @prop name - Input name for form submission
 * @prop value - Input value (optional, default: 'on')
 * @prop label - Label text (optional)
 * @prop checked - Initial checked state (optional)
 * @prop class - Additional classes for the wrapper (optional)
 */
interface Props {
  name?: string;
  value?: string;
  label?: string;
  checked?: boolean;
  class?: string;
}

const { name, value = 'on', label, checked = false, class: className = '' } = Astro.props;
---

<label class:list={['group flex items-center gap-3 cursor-pointer', className]}>
  <div class="relative shrink-0">
    <input
      type="checkbox"
      name={name}
      value={value}
      checked={checked}
      class="peer sr-only"
    />
    <!-- Checkbox box -->
    <div class="w-5 h-5 rounded-md border-2 border-secondary-300 bg-white transition-all peer-checked:bg-primary-500 peer-checked:border-primary-500 peer-focus-visible:ring-2 peer-focus-visible:ring-primary-200 peer-focus-visible:ring-offset-1 group-hover:border-primary-400">
    </div>
    <!-- Checkmark icon -->
    <svg
      class="absolute inset-0 w-5 h-5 text-white opacity-0 peer-checked:opacity-100 transition-opacity p-0.5 pointer-events-none"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
      stroke-width="3"
    >
      <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
    </svg>
  </div>
  {label && (
    <span class="text-sm text-secondary-700 group-hover:text-secondary-900 transition-colors select-none">
      {label}
    </span>
  )}
  <slot />
</label>
